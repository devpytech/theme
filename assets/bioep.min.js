window.bioEp={bgEl:{},popupEl:{},closeBtnEl:{},shown:!1,overflowDefault:"visible",transformDefault:"",width:400,height:220,html:"",css:"",fonts:[],delay:5,showOnDelay:!1,cookieExp:30,onPopup:null,cookieManager:{create:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},erase:function(a){this.create(a,"",-1)}},checkCookie:function(){return this.cookieExp<=0?(this.cookieManager.erase("bioep_shown"),!1):"true"==this.cookieManager.get("bioep_shown")},addCSS:function(){for(var a=0;a<this.fonts.length;a++){var b=document.createElement("link");b.href=this.fonts[a],b.type="text/css",b.rel="stylesheet",document.head.appendChild(b)}var c=document.createTextNode("#bio_ep_bg {display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; opacity: 0.3; z-index: 10001;}#bio_ep {display: none; position: fixed; width: "+this.width+"px; height: "+this.height+"px; font-family: 'Titillium Web', sans-serif; font-size: 16px; left: 50%; top: 50%; transform: translateX(-50%) translateY(-50%); -webkit-transform: translateX(-50%) translateY(-50%); -ms-transform: translateX(-50%) translateY(-50%); background-color: #fff; box-shadow: 0px 1px 4px 0 rgba(0,0,0,0.5); z-index: 10002;}#bio_ep_close {position: absolute; left: 100%; margin: -8px 0 0 -12px; width: 20px; height: 20px; color: #fff; font-size: 12px; font-weight: bold; text-align: center; border-radius: 50%; background-color: #5c5c5c; cursor: pointer;}"+this.css),d=document.createElement("style");d.type="text/css",d.appendChild(c),document.head.insertBefore(d,document.getElementsByTagName("style")[0])},addPopup:function(){this.bgEl=document.createElement("div"),this.bgEl.id="bio_ep_bg",document.body.appendChild(this.bgEl),document.getElementById("bio_ep")?this.popupEl=document.getElementById("bio_ep"):(this.popupEl=document.createElement("div"),this.popupEl.id="bio_ep",this.popupEl.innerHTML=this.html,document.body.appendChild(this.popupEl)),this.closeBtnEl=document.createElement("div"),this.closeBtnEl.id="bio_ep_close",this.closeBtnEl.appendChild(document.createTextNode("X")),this.popupEl.insertBefore(this.closeBtnEl,this.popupEl.firstChild)},showPopup:function(){this.shown||(this.bgEl.style.display="block",this.popupEl.style.display="block",this.scalePopup(),this.overflowDefault=document.body.style.overflow,document.body.style.overflow="hidden",this.shown=!0,this.cookieManager.create("bioep_shown","true",this.cookieExp),"function"==typeof this.onPopup&&this.onPopup())},hidePopup:function(){this.bgEl.style.display="none",this.popupEl.style.display="none",document.body.style.overflow=this.overflowDefault},scalePopup:function(){var a={width:40,height:40},b={width:bioEp.popupEl.offsetWidth,height:bioEp.popupEl.offsetHeight},c={width:window.innerWidth,height:window.innerHeight},d={width:0,height:0},e=b.width/b.height;b.width>c.width-a.width&&(d.width=c.width-a.width,d.height=d.width/e,d.height>c.height-a.height&&(d.height=c.height-a.height,d.width=d.height*e)),0===d.height&&b.height>c.height-a.height&&(d.height=c.height-a.height,d.width=d.height*e);var f=d.width/b.width;(f<=0||f>1)&&(f=1),""===this.transformDefault&&(this.transformDefault=window.getComputedStyle(this.popupEl,null).getPropertyValue("transform")),this.popupEl.style.transform=this.transformDefault+" scale("+f+")"},addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},loadEvents:function(){this.addEvent(document,"mouseout",function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b||bioEp.showPopup()}),this.addEvent(this.closeBtnEl,"click",function(){bioEp.hidePopup()}),this.addEvent(window,"resize",function(){bioEp.scalePopup()})},setOptions:function(a){this.width="undefined"==typeof a.width?this.width:a.width,this.height="undefined"==typeof a.height?this.height:a.height,this.html="undefined"==typeof a.html?this.html:a.html,this.css="undefined"==typeof a.css?this.css:a.css,this.fonts="undefined"==typeof a.fonts?this.fonts:a.fonts,this.delay="undefined"==typeof a.delay?this.delay:a.delay,this.showOnDelay="undefined"==typeof a.showOnDelay?this.showOnDelay:a.showOnDelay,this.cookieExp="undefined"==typeof a.cookieExp?this.cookieExp:a.cookieExp,this.onPopup="undefined"==typeof a.onPopup?this.onPopup:a.onPopup},domReady:function(a){"interactive"===document.readyState||"complete"===document.readyState?a():this.addEvent(document,"DOMContentLoaded",a)},init:function(a){"undefined"!=typeof a&&this.setOptions(a),this.addCSS(),this.domReady(function(){bioEp.checkCookie()||(bioEp.addPopup(),setTimeout(function(){bioEp.loadEvents(),bioEp.showOnDelay&&bioEp.showPopup()},1e3*bioEp.delay))})}};